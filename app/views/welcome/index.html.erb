<style>
body{
 padding-top: 0px;
 margin: 0px;
}
canvas{
 width: 100%;
 height: 100%;
 background: #f0f0f0;
 padding: 0px;
}
canvas img{margin: 10px;}
.item{width: 100px; height: 100px;}
</style>
<canvas id="canvas" class="tiles">

</canvas>
<script>
$(document).on('ready page:load', function(){
  $('#canvas').height(window.innerHeight);
})

function tile(context, image, tiles){
  for(r=0; r<tiles; r++){
    for(c=0; c < tiles; c++){
      context.drawImage(image, (image.width/tiles)*r, (image.height/tiles)*c, image.width/tiles, image.height/tiles);
    }
  }
}

function draw() {
  images = ['assetssingle-1.png', 'assetssingle-2.png', 'assetssingle-3'];
  var ctx = document.getElementById('canvas').getContext('2d');
    var img = new Image();
    img.width = 100;
    img.height = 100;
    img.marginLeft = 5;
    img.marginBottom = 5;
    img.onload = function() {
        // This is the code that the tile function basically generates        
        for(i = 0; i < 100; i++){
          item = images[Math.floor(Math.random()*images.length)];
          img.src = 'http://localhost:3000/'+item;
          ctx.drawImage(img, 0, 100, img.width/2, img.height/2);
          tiles = 3;
          tile(ctx, img, tiles);
        }
      }
    }
    draw();
    </script>
